diff --git a/src/libplatform/default-thread-isolated-allocator.cc b/src/libplatform/default-thread-isolated-allocator.cc
index bda0e43..1e06a97 100644
--- a/src/libplatform/default-thread-isolated-allocator.cc
+++ b/src/libplatform/default-thread-isolated-allocator.cc
@@ -52,6 +52,7 @@ int PkeyAlloc() {
 
   return pkey_alloc(0, PKEY_DISABLE_WRITE);
 #else  // PKEY_DISABLE_WRITE
+  KernelHasPkruFix();
   return -1;
 #endif
 }
